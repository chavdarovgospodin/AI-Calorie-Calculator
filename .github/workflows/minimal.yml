# .github/workflows/minimal.yml (Ğ—Ğ° Ñ‚ĞµÑÑ‚Ğ²Ğ°Ğ½Ğµ)
name: ğŸš€ Minimal Test

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  test:
    name: âœ… Quick Test
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“¥ Checkout
        uses: actions/checkout@v4

      - name: ğŸŸ¢ Setup Node
        uses: actions/setup-node@v4
        with:
          node-version: '18'
          # Ğ‘Ğ•Ğ— cache Ğ·Ğ° Ğ´Ğ° Ğ¸Ğ·Ğ±ĞµĞ³Ğ½ĞµĞ¼ Ğ³Ñ€ĞµÑˆĞºĞ°Ñ‚Ğ°

      - name: ğŸ“‹ Check Files
        run: |
          echo "ğŸ” Repository structure:"
          ls -la
          echo ""
          echo "ğŸ“ Apps directory:"
          ls -la apps/ || echo "No apps directory"
          echo ""
          echo "ğŸ“¦ Backend:"
          ls -la apps/backend/ || echo "No backend directory"
          echo ""
          echo "ğŸ“± Mobile:"
          ls -la apps/mobile/ || echo "No mobile directory"

      - name: ğŸ“¦ Install Backend Dependencies (if exists)
        run: |
          if [ -d "apps/backend" ] && [ -f "apps/backend/package.json" ]; then
            echo "ğŸ“¦ Installing backend dependencies..."
            cd apps/backend
            npm install --production
            echo "âœ… Backend dependencies installed"
          else
            echo "âš ï¸ No backend package.json found"
          fi

      - name: ğŸ‰ Success
        run: |
          echo "âœ… Minimal test completed successfully!"
          echo "ğŸš€ Ready for development"
